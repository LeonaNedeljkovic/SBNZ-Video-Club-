template header
ageCategory
genre

package com.ruletemplate.restrictGenreByAge;

import com.videoClub.template.GenreAgeRestrictionTemplate;
import com.videoClub.model.*;
import com.videoClub.model.enumeration.AgeCategory;

template "restrict-genre-by-age-category-rules"

rule "Restrict genre by age category_@{row.rowNumber}"
no-loop true
when
    $film: Film( genre == Genre.@{genre} )
then
    $film.addNewRestrictedAgeCategory(AgeCategory.@{ageCategory});
end

end template